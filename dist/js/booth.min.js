/*
 * Booth JS
 * Javascript library to easily do offcanvas menus
 */
window.Booth=function(a,b){a=document.getElementById(a),this.openbtn=a,this.options=this.extend({},this.options);var c=a.getAttribute("data-booth-options");if(null!=c&&(c=c.replace(/[{}]/g,"").split(","),c.length>0))for(x in c){var d=c[x].split(":");this.options[d[0].trim()]=d[1].trim()}if(this.extend(this.options,b),this.bodyEl=document.body,null!=this.options.contentid)this.mainContent=document.getElementById(this.options.contentid);else{var e=document.getElementsByClassName("booth-content");e.length>0&&(this.mainContent=e[0])}if(null!=this.options.menuwrapid)this.menuWrap=document.getElementById(this.options.menuwrapid);else{var f=document.getElementsByClassName("booth-menu");f.length>0&&(this.menuWrap=f[0])}if(null!=this.options.closebtnid)this.closebtn=document.getElementById(this.options.closebtnid);else{var g=this.menuWrap.getElementsByClassName("booth-close-button");g.length>0&&(this.closebtn=g[0])}this.isOpen=!1,this.init()},window.Booth.prototype.options={location:"left",slideType:"ease",contentid:null,closebtnid:null,menuwrapid:null,speed:400,clickWait:500},window.Booth.prototype.init=function(){this.has3d=this.check3d(),this.transitionEvent=this.whichTransitionEvent(),this.initMenu(this.options.location),this.initEvents()},window.Booth.prototype.initMenu=function(a){this.menuWrap.classList.add("booth-menu-"+a),this.has3d||(this.menuWrap.classList.add("booth-no3d"),this.mainContent.classList.add("booth-no3d"))},window.Booth.prototype.initEvents=function(){var a=this;this.openbtn.addEventListener("click",function(b){a.toggleMenu()}),this.closebtn&&this.closebtn.addEventListener("click",function(b){a.toggleMenu()}),this.mainContent.addEventListener("click",function(b){var c=b.target;a.isOpen&&c!==a.openbtn&&!c.classList.contains("booth-menu-button")&&a.toggleMenu()}),this.transitionEvent&&this.menuWrap.addEventListener(this.transitionEvent,function(){this.classList.contains("booth-menu")&&!this.classList.contains("booth-active")&&(this.style.visibility="hidden")})},window.Booth.prototype.toggleMenu=function(){this.isOpen?this.has3d?(this.menuWrap.classList.remove("booth-active"),this.mainContent.classList.remove("booth-active"),this.mainContent.classList.remove("booth-content-"+this.options.location)):alert("Please try an updated browser!"):(this.menuWrap.style.visibility="visible",this.has3d?(this.mainContent.classList.add("booth-content-"+this.options.location),this.mainContent.classList.add("booth-active"),this.menuWrap.classList.add("booth-active")):alert("Please try an updated browser!")),this.isOpen=!this.isOpen},window.Booth.prototype.check3d=function(){if(!window.getComputedStyle)return!1;var b,a=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)void 0!==a.style[d]&&(a.style[d]="translate3d(1px,1px,1px)",b=window.getComputedStyle(a).getPropertyValue(c[d]));return document.body.removeChild(a),void 0!==b&&b.length>0&&"none"!==b},window.Booth.prototype.whichTransitionEvent=function(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]},window.Booth.prototype.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};
